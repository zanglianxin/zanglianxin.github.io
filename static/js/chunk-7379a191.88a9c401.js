(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7379a191"],{"0001":function(e,t,a){"use strict";a("1670")},"09d7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn",style:e.style},[e._t("default")],2)},r=[],i={data:function(){return{style:{backgroundColor:this.bgcolor,color:this.fscolor,fontSize:this.fs}}},props:{bgcolor:{type:String,default:"#5f84ff"},fscolor:{type:String,default:"#fff"},fs:{type:String,default:"14px"}},created:function(){},methods:{}},o=i,l=(a("9eb6"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"79c904de",null);t["a"]=c.exports},"147d":function(e,t,a){},1670:function(e,t,a){},3393:function(e,t,a){"use strict";a("6cf8")},4617:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{style:e.style},[e._t("default")],2)},r=[],i={data:function(){return{style:{color:this.color,fontSize:this.fontSize}}},props:["color","fontSize"],created:function(){},methods:{}},o=i,l=(a("de82"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"2ba9db4a",null);t["a"]=c.exports},"595a":function(e,t,a){},"6cf8":function(e,t,a){},"76a4":function(e,t,a){"use strict";a("a78a")},"8bd7":function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"n",(function(){return c})),a.d(t,"l",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"p",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"m",(function(){return g})),a.d(t,"g",(function(){return b})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return v})),a.d(t,"j",(function(){return x}));var n=a("b775"),r=function(e){return Object(n["a"])({url:"/vm-service/region/search",params:e})},i=function(e,t){return Object(n["a"])({url:"/vm-service/region",method:"POST",data:{regionName:e,remark:t}})},o=function(e,t,a){return Object(n["a"])({url:"/vm-service/region/"+e,method:"PUT",data:{regionName:t,remark:a}})},l=function(e){return Object(n["a"])({url:"/vm-service/region/"+e,method:"DELETE"})},c=function(e){return Object(n["a"])({url:"vm-service/node/search",params:e})},s=function(e){return Object(n["a"])({url:"/user-service/partner/search",params:e})},u=function(e){return Object(n["a"])({url:"/user-service/partner",method:"POST",data:e})},d=function(e,t){return Object(n["a"])({url:"/user-service/partner/"+e,method:"PUT",data:t})},f=function(e){return Object(n["a"])({url:"/user-service/partner/"+e,method:"DELETE"})},p=function(e){return Object(n["a"])({url:"/user-service/partner/resetPwd/"+e,method:"PUT"})},m=function(e){return Object(n["a"])({url:"/vm-service/node/search",params:e})},g=function(e){return Object(n["a"])({url:"/vm-service/node/vmList/"+e})},b=function(e){return Object(n["a"])({url:"/vm-service/node/"+e,method:"DELETE"})},h=function(){return Object(n["a"])({url:"vm-service/businessType"})},v=function(e){return Object(n["a"])({url:"/vm-service/node",method:"POST",data:e})},x=function(e,t){return Object(n["a"])({url:"/vm-service/node/"+e,method:"PUT",data:t})}},"8eaa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"head-card"},[a("MyInput",{attrs:{title:"区域搜索："},on:{enter:e.input}}),a("MyButton",{staticClass:"search-btn",nativeOn:{click:function(t){return e.search(t)}}},[a("span",{staticClass:"el-icon-search",staticStyle:{"margin-right":"5px"}}),e._v("查询")])],1),a("el-card",{staticClass:"main-card"},[a("MyButton",{staticClass:"new-btn",attrs:{bgcolor:"#ff7830"},nativeOn:{click:function(t){return e.addArea(t)}}},[a("span",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-right":"5px"}}),e._v("新建")]),a("MyTable",{attrs:{tableList:e.areaList,headList:e.headNameArr,propertyList:e.propArr,loading:e.loading,operateWidth:"200",pageIndex:e.pageIndex},scopedSlots:e._u([{key:"manipulate",fn:function(t){return[a("MySpan",{attrs:{color:"#5f84ff"},nativeOn:{click:function(a){return e.detail(t)}}},[e._v("查看详情")]),a("MySpan",{staticClass:"edit-btn",attrs:{color:"#5f84ff"},nativeOn:{click:function(a){return e.edit(t)}}},[e._v("修改")]),a("MySpan",{attrs:{color:"#fe5a7e"},nativeOn:{click:function(a){return e.delArea(t)}}},[e._v("删除")])]}}])}),"1"!==e.totalPage?a("MyPagination",{attrs:{totalCount:e.totalCount,totalPage:e.totalPage,pageIndex:e.pageIndex,btnLoading:e.btnLoading},on:{next:e.nextPage,prev:e.prevPage}}):e._e()],1),a("MyAddDialog",{ref:"add_edit",attrs:{dialogVisible:e.dialogVisible},on:{getRefresh:e.changePage,"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}}),a("DetailTable",{ref:"detaiDialog",attrs:{areaDetailVisible:e.areaDetailVisible},on:{"update:areaDetailVisible":function(t){e.areaDetailVisible=t},"update:area-detail-visible":function(t){e.areaDetailVisible=t}}})],1)},r=[],i=a("c7eb"),o=a("1da1"),l=(a("b0c0"),a("e593")),c=a("09d7"),s=a("b5b3"),u=a("4617"),d=a("bfaa"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.detail.id?"修改区域":"新增区域",visible:e.dialogVisible,width:"35%","close-on-click-modal":!1},on:{close:e.closeDialog,closed:e.closed,open:e.openDialog}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"区域名称:",prop:"name"}},[a("el-input",{attrs:{maxlength:"15","show-word-limit":"",placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"备注说明:",prop:"desc"}},[a("el-input",{attrs:{maxlength:"40","show-word-limit":"",type:"textarea",rows:"4",placeholder:"请输入备注（不超过40字）"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancel-btn",on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{staticClass:"qd-btn",attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},p=[],m=(a("498a"),a("8bd7")),g={data:function(){return{form:{name:"",desc:""},formRules:{name:[{required:!0,message:"请输入区域名称",trigger:"blur"}],desc:[{required:!0,message:"请输入",trigger:"blur"}]},detail:{}}},created:function(){},props:{dialogVisible:{type:Boolean,default:!1}},methods:{closeDialog:function(){this.$emit("update:dialogVisible",!1)},closed:function(){this.$refs.form.resetFields(),this.form={name:"",desc:""},this.detail={}},confirm:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.form.validate();case 3:if(""!==e.form.name.trim()&&""!==e.form.desc.trim()){t.next=6;break}return e.form={name:"",desc:""},t.abrupt("return",e.$message.error("请输入内容"));case 6:if(!e.detail.id){t.next=14;break}return console.log("编辑"),t.next=10,Object(m["h"])(e.detail.id,e.form.name,e.form.desc);case 10:e.closeDialog(),e.$emit("getRefresh"),t.next=18;break;case 14:return t.next=16,Object(m["a"])(e.form.name,e.form.desc);case 16:e.closeDialog(),e.$emit("getRefresh");case 18:t.next=22;break;case 20:t.prev=20,t.t0=t["catch"](0);case 22:return t.prev=22,t.finish(22);case 24:case"end":return t.stop()}}),t,null,[[0,20,22,24]])})))()},openDialog:function(){this.detail.id&&(this.form.name=this.detail.name,this.form.desc=this.detail.remark)}}},b=g,h=(a("0001"),a("2877")),v=Object(h["a"])(b,f,p,!1,null,"f9459f00",null),x=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"区域详情",visible:e.areaDetailVisible,width:"35%","close-on-click-modal":!1},on:{close:e.closeDialog}},[a("el-form",{ref:"form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"区域名称:"}},[a("span",[e._v(e._s(e.areaName))])]),a("el-form-item",{attrs:{label:"包含点位:"}},[a("MyTable",{attrs:{loading:e.loading,tableList:e.areaNodeList,headList:e.headNameArr,propertyList:e.propArr}})],1)],1)],1)},O=[],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableList,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"}}},[a("el-table-column",{attrs:{type:"index",width:"80",label:"序号",index:e.number}}),e._l(e.propertyList,(function(t,n){return a("el-table-column",{key:t,attrs:{property:t,label:e.headList[n]}})}))],2)],1)},k=[],w={name:"MyTable",data:function(){return{}},props:{tableList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},headList:{type:Array,default:function(){return[]}},propertyList:{type:Array,default:function(){return[]}},operateWidth:{type:String,default:"80"},pageIndex:{default:1}},created:function(){},computed:{number:function(){return 10*this.pageIndex-9}},methods:{}},_=w,L=Object(h["a"])(_,j,k,!1,null,"8784cc7a",null),P=L.exports,C={data:function(){return{areaName:"",areaNodeList:[],headNameArr:["点位名称","设备数量"],propArr:["name","vmCount"],loading:!1}},components:{MyTable:P},created:function(){},props:{areaDetailVisible:{type:Boolean,default:!1}},methods:{closeDialog:function(){this.$emit("update:areaDetailVisible",!1)}}},D=C,$=(a("d3ba"),Object(h["a"])(D,y,O,!1,null,"3b137c4d",null)),S=$.exports,V={data:function(){return{areaList:[],headNameArr:["区域名称","点位数","备注说明"],propArr:["name","nodeCount","remark"],loading:!1,pageIndex:"",totalCount:"",totalPage:"",btnLoading:!1,searchVal:"",dialogVisible:!1,areaDetailVisible:!1}},components:{MyInput:l["a"],MyButton:c["a"],MyTable:s["a"],MySpan:u["a"],MyPagination:d["a"],MyAddDialog:x,DetailTable:S},created:function(){this.getAreaList()},methods:{getAreaList:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(m["k"])();case 4:a=t.sent,n=a.data,e.areaList=n.currentPageRecords,e.pageIndex=n.pageIndex,e.totalCount=n.totalCount,e.totalPage=n.totalPage,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.$message.error("获取数据失败");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},input:function(e){this.searchVal=e},detail:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$refs.detaiDialog.loading=!0,t.areaDetailVisible=!0,t.$refs.detaiDialog.areaName=e.data.name,a.next=5,Object(m["n"])({regionId:e.data.id});case 5:n=a.sent,r=n.data,t.$refs.detaiDialog.areaNodeList=r.currentPageRecords,t.$refs.detaiDialog.loading=!1;case 9:case"end":return a.stop()}}),a)})))()},edit:function(e){this.dialogVisible=!0,this.$refs.add_edit.detail=e.data},delArea:function(e){var t=this;this.$confirm("此操作将永久删除该区域, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e.data.id),a.next=3,Object(m["e"])(e.data.id);case 3:t.changePage(),t.$message({type:"success",message:"删除成功!"});case 5:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},nextPage:function(){this.pageIndex++,this.changePage()},prevPage:function(){this.pageIndex--,this.changePage()},changePage:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.btnLoading=!0,t.prev=2,t.next=5,Object(m["k"])({pageIndex:e.pageIndex,name:e.searchVal});case 5:a=t.sent,n=a.data,e.areaList=n.currentPageRecords,e.pageIndex=n.pageIndex,e.totalCount=n.totalCount,e.totalPage=n.totalPage,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),e.$message.error("获取数据失败");case 16:return t.prev=16,e.loading=!1,e.btnLoading=!1,t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[2,13,16,20]])})))()},search:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["k"])({name:e.searchVal});case 2:a=t.sent,n=a.data,console.log(n),e.areaList=n.currentPageRecords,e.pageIndex=n.pageIndex,e.totalCount=n.totalCount,e.totalPage=n.totalPage;case 9:case"end":return t.stop()}}),t)})))()},addArea:function(){this.dialogVisible=!0}}},I=V,T=(a("9e92"),Object(h["a"])(I,n,r,!1,null,"0f8cf52c",null));t["default"]=T.exports},"9e92":function(e,t,a){"use strict";a("147d")},"9eb6":function(e,t,a){"use strict";a("f29d")},a78a:function(e,t,a){},b5b3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableList,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"}}},[a("el-table-column",{attrs:{type:"index",width:"80",label:"序号",index:e.number}}),e._l(e.propertyList,(function(t,n){return a("el-table-column",{key:t,attrs:{property:t,label:e.headList[n]}})})),a("el-table-column",{attrs:{width:e.operateWidth,property:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("manipulate",null,{data:t.row})]}}],null,!0)})],2)],1)},r=[],i={name:"MyTable",data:function(){return{}},props:{tableList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},headList:{type:Array,default:function(){return[]}},propertyList:{type:Array,default:function(){return[]}},operateWidth:{type:String,default:"80"},pageIndex:{default:1}},created:function(){},computed:{number:function(){return 10*this.pageIndex-9}},methods:{}},o=i,l=a("2877"),c=Object(l["a"])(o,n,r,!1,null,"6354c064",null);t["a"]=c.exports},bfaa:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration",staticStyle:{color:"#dbdfe5"}},[e._v("共"+e._s(e.totalCount)+"条记录 第"+e._s(e.pageIndex)+"/"+e._s(e.totalPage)+"页")]),a("el-pagination",{directives:[{name:"loading",rawName:"v-loading",value:e.btnLoading,expression:"btnLoading"}],attrs:{"page-size":10,layout:"total, prev, next","prev-text":"上一页","next-text":"下一页",total:e.totalCount-0},on:{"prev-click":e.prevClick,"next-click":e.nextClick}})],1)},r=[],i={name:"Pagination",data:function(){return{}},created:function(){},props:{totalCount:{type:String,default:""},totalPage:{type:String,default:""},pageIndex:{default:""},btnLoading:{type:Boolean,default:!1}},methods:{prevClick:function(){this.$emit("prev")},nextClick:function(){this.$emit("next")}}},o=i,l=(a("3393"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"0942571a",null);t["a"]=c.exports},d3ba:function(e,t,a){"use strict";a("595a")},de82:function(e,t,a){"use strict";a("f0691")},e593:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("span",[e._v(" "+e._s(e.title)+" ")]),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入内容",clearable:""},on:{change:e.enterFn},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("template",{slot:"suffix"},[e._t("html")],2)],2)],1)},r=[],i=(a("498a"),{data:function(){return{value:""}},props:{title:{type:String,default:"工单编号:"},html:{type:String,default:":"}},created:function(){},methods:{enterFn:function(){this.$emit("enter",this.value.trim())}}}),o=i,l=(a("76a4"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"53cc41c6",null);t["a"]=c.exports},f0691:function(e,t,a){},f29d:function(e,t,a){}}]);