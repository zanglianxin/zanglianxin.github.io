(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-796be9ea"],{"53ce":function(e,t,a){"use strict";a("c4d7")},"69dd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("headSearch",{attrs:{dropDown:!0,orderLabel:"工单编号",stateLabel:"工单状态",dropDownList:e.dropDownList,formInline:e.formInline},on:{searchClick:e.submit}}),a("div",{staticClass:"contentMain"},[a("newImportButton",{attrs:{isImportBtn:!1},on:{addTask:e.addTask}}),a("tableModule",{attrs:{WorkOrderDate:e.WorkOrderDate.currentPageRecords?e.WorkOrderDate.currentPageRecords:[],taskSearchData:e.taskSearchData},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.taskId.row.taskId)}}},[e._v("查看详情")])]}}])}),a("div",{staticClass:"bottom"},[a("div",{staticClass:"info"},[e._v(" 共"+e._s(e.WorkOrderDate.totalCount)+"条记录 第 "+e._s(e.WorkOrderDate.pageIndex)+"/"+e._s(e.WorkOrderDate.totalPage)+" 页 ")]),a("div",{staticClass:"change"},[a("el-button",{attrs:{disabled:e.isdisable},on:{click:e.previousPage}},[e._v("上一页")]),a("el-button",{attrs:{disabled:e.nextDisable},on:{click:e.getNextPage}},[e._v("下一页")])],1)])],1),a("taskDetailDialog",{ref:"taskdetail",attrs:{dialogVisible:e.taskvisible,isRepair:e.taskSearchData.isRepair},on:{"update:dialogVisible":function(t){e.taskvisible=t},"update:dialog-visible":function(t){e.taskvisible=t},reCreate:e.reCreateRepair,reGetTask:e.reGetRepairList}}),a("addDialog",{ref:"addDialog",attrs:{visible:e.addvisible,isRepair:e.taskSearchData.isRepair},on:{"update:visible":function(t){e.addvisible=t},reGetRepairList:e.reGetRepairList}})],1)},i=[],s=a("c7eb"),n=a("1da1"),o=(a("d3b7"),a("159b"),a("9fe0")),d=a("1926"),c=a("6874"),l=a("c356"),u=a("91d1"),p=a("6d60"),k=a("d706"),h={data:function(){return{dropDownList:["待办","进行","取消","完成"],formInline:{userCode:"",region:""},WorkOrderDate:[],taskSearchData:{pageIndex:1,innerCode:"",userId:"",taskCode:"",status:"",isRepair:!0},nextDisable:!1,taskvisible:!1,addvisible:!1,reCreateInfo:{}}},components:{headSearch:o["a"],newImportButton:d["a"],tableModule:c["a"],addDialog:k["a"],taskDetailDialog:p["a"]},created:function(){this.getOperationList(this.taskSearchData)},methods:{getOperationList:function(e){var t=this;return Object(n["a"])(Object(s["a"])().mark((function a(){var r,i,n;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(l["a"])(e);case 3:i=a.sent,n=i.data,null===n||void 0===n||null===(r=n.currentPageRecords)||void 0===r||r.forEach((function(e){e.createType=1===e.createType?"手动":"自动",e.createTime=Object(u["c"])(e.createTime),e.updateTime=Object(u["c"])(e.updateTime)})),t.WorkOrderDate=n,a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getNextPage:function(){var e=parseInt(this.WorkOrderDate.totalPage)-parseInt(this.WorkOrderDate.pageIndex);1===e&&(this.nextDisable=!0),this.taskSearchData.pageIndex++,this.getOperationList(this.taskSearchData)},previousPage:function(){this.taskSearchData.pageIndex--,this.getOperationList(this.taskSearchData)},submit:function(e){this.taskSearchData.taskCode=e.userCode,this.taskSearchData.status=Object(u["d"])(e.region,this.taskSearchData.status),this.getOperationList(this.taskSearchData)},addTask:function(){this.addvisible=!0,this.$refs.addDialog.getTaskStatus()},handleClick:function(e){this.taskvisible=!0,this.$refs.taskdetail.getTaskInfo(e)},reGetRepairList:function(){var e={pageIndex:1,innerCode:"",userId:"",taskCode:"",status:"",isRepair:!0};this.getOperationList(e)},reCreateRepair:function(e){var t=this;return Object(n["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.reCreateInfo=e,a.next=3,t.$refs.addDialog.getInnerCode(e.innerCode);case 3:t.addTask(),t.$refs.addDialog.reShowInfo(t.reCreateInfo);case 5:case"end":return a.stop()}}),a)})))()}},computed:{isdisable:function(){var e;return(null===(e=this.WorkOrderDate)||void 0===e?void 0:e.pageIndex)<=1}}},b=h,f=(a("53ce"),a("2877")),g=Object(f["a"])(b,r,i,!1,null,"5d66380c",null);t["default"]=g.exports},c4d7:function(e,t,a){}}]);