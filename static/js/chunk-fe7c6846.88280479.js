(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe7c6846"],{"0877":function(e,t,a){},"16b0":function(e,t,a){"use strict";a("9a68")},1926:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appBtn"},[a("el-button",{staticClass:"newBtn",attrs:{type:"primary"},on:{click:e.addTask}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 新建")]),e.isImportBtn?a("el-button",{staticClass:"importBtn",attrs:{type:"primary",plain:""},on:{click:e.taskConfig}},[e._v("工单配置")]):e._e()],1)},n=[],s={props:{isImportBtn:{type:Boolean}},data:function(){return{}},created:function(){},methods:{addTask:function(){this.$emit("addTask")},taskConfig:function(){this.$emit("taskConfig")}}},i=s,l=(a("46c2"),a("2877")),o=Object(l["a"])(i,r,n,!1,null,"6b9b3616",null);t["a"]=o.exports},"34ff":function(e,t,a){},"43be":function(e,t,a){"use strict";a("e09a")},"46c2":function(e,t,a){"use strict";a("9bb4")},"47f18":function(e,t,a){"use strict";a("d1c2")},6379:function(e,t,a){"use strict";a("76bc")},6828:function(e,t,a){},6874:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.WorkOrderDate,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"},"empty-text":"暂时没有数据了"},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"100",label:"序号"}}),a("el-table-column",{attrs:{property:"taskCode",label:"工单编号",width:"200"}}),a("el-table-column",{attrs:{property:"innerCode",label:"设备编号",width:"200"}}),a("el-table-column",{attrs:{property:"taskType.typeName",label:"工单类型"}}),a("el-table-column",{attrs:{property:"createType",label:"工单方式"}}),a("el-table-column",{attrs:{property:"taskStatusTypeEntity.statusName",label:"工单状态"}}),e.taskSearchData.isRepair?e._e():a("el-table-column",{attrs:{property:"userName",label:"运营人员"}}),e.taskSearchData.isRepair?a("el-table-column",{attrs:{property:"userName",label:"运维人员"}}):e._e(),a("el-table-column",{attrs:{property:"createTime",label:"创建日期"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{taskId:t})]}}],null,!0)})],1)},n=[],s={props:{WorkOrderDate:{type:Array,required:!0},taskSearchData:{type:Object}},data:function(){return{currentRow:null}},methods:{setCurrent:function(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange:function(e){this.currentRow=e}}},i=s,l=(a("43be"),a("2877")),o=Object(l["a"])(i,r,n,!1,null,"990e0486",null);t["a"]=o.exports},"6d60":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"工单详情",visible:e.dialogVisible,width:"30%"},on:{close:e.onClose}},[a("DetailInfo",{ref:"detail",attrs:{detailInfo:e.detailInfo,isRepair:e.isRepair}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["取消"===e.detailInfo.taskStatus?a("el-button",{on:{click:e.reCreate}},[e._v("重新创建")]):e._e(),"待办"===e.detailInfo.taskStatus?a("el-button",{on:{click:e.concelTask}},[e._v("取消工单")]):e._e()],1)],1),a("el-dialog",{staticClass:"concelDialog",attrs:{visible:e.visible,width:"30%",center:"","show-close":!1},on:{"update:visible":function(t){e.visible=t}}},[a("i",{staticClass:"el-icon-warning"}),a("span",{staticClass:"title"},[e._v("取消工单后，将不能恢复，是否确认取消？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"onconcel",on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{staticClass:"onfirm",on:{click:e.onFirm}},[e._v("确 定")])],1)])],1)},n=[],s=a("c7eb"),i=a("1da1"),l=a("91d1"),o=a("365c"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.detailInfo,"label-width":"80px"}},[a("div",{staticClass:"taskStatus"},["取消"===e.detailInfo.taskStatus?a("i",{staticClass:"el-icon-warning"}):e._e(),"未支付"===e.detailInfo.status?a("i",{staticClass:"el-icon-bank-card"}):e._e(),"完成"===e.detailInfo.taskStatus||"出货成功"===e.detailInfo.status?a("i",{staticClass:"el-icon-success"}):e._e(),"待办"===e.detailInfo.taskStatus?a("i",{staticClass:"el-icon-question"}):e._e(),a("span",[e._v(e._s(e.detailInfo.taskStatus||e.detailInfo.status))]),"取消"===e.detailInfo.taskStatus?a("img",{attrs:{src:"http://likede2-admin.itheima.net/img/pic_3.e8208e34.png",alt:""}}):e._e(),"未支付"===e.detailInfo.status?a("img",{attrs:{src:"http://likede2-admin.itheima.net/img/pic_0.979e683d.png",alt:""}}):e._e(),"完成"===e.detailInfo.taskStatus||"出货成功"===e.detailInfo.status?a("img",{attrs:{src:"http://likede2-admin.itheima.net/img/pic_4.3b5af41c.png",alt:""}}):e._e(),"待办"===e.detailInfo.taskStatus?a("img",{attrs:{src:"http://likede2-admin.itheima.net/img/pic_1.834b274c.png",alt:""}}):e._e()]),a("el-row",[e.detailInfo.orderNo?a("el-col",{staticClass:"OrderNo",attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"订单编号:"}},[e._v(" "+e._s(e.detailInfo.orderNo)+" ")])],1)]):e._e(),e.detailInfo.orderNo?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"商品名称:"}},[e._v(" "+e._s(e.detailInfo.skuName)+" ")])],1)]):e._e(),e.detailInfo.orderNo?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"订单金额:"}},[e._v(" "+e._s(e.detailInfo.amount)+" ")])],1)]):e._e(),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"设备编号:"}},[e._v(" "+e._s(e.detailInfo.innerCode)+" ")])],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"创建日期:"}},[e._v(" "+e._s(e.detailInfo.createTime)+" ")])],1)]),"待办"!==e.detailInfo.taskStatus?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"完成日期:"}},[e._v(" "+e._s(e.detailInfo.updateTime)+" ")])],1)]):e._e(),e.detailInfo.orderNo?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"支付方式:"}},[e._v(" "+e._s(1===e.detailInfo.payType?"支付宝支付":"微信支付")+" ")])],1)]):e._e(),e.detailInfo.orderNo?e._e():a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[e.isRepair?e._e():a("el-form-item",{attrs:{label:"运营人员:"}},[e._v(" "+e._s(e.detailInfo.userName)+" ")]),e.isRepair?a("el-form-item",{attrs:{label:"运维人员:"}},[e._v(" "+e._s(e.detailInfo.userName)+" ")]):e._e()],1)]),e.detailInfo.orderNo?e._e():a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"工单类型:"}},[e._v(" "+e._s(e.detailInfo.taskType&&e.detailInfo.taskType["typeName"])+" ")])],1)]),e.isRepair||e.detailInfo.orderNo?e._e():a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"补货数量:"}},[a("span",{staticStyle:{color:"#4368e1",cursor:"pointer"},attrs:{href:""},on:{click:function(t){return e.addGoodsDetail(e.detailInfo.taskId)}}},[e._v("补货详情")])])],1)]),e.detailInfo.orderNo?e._e():a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"工单方式:"}},[e._v(" "+e._s(e.detailInfo.createType)+" ")])],1)]),e.detailInfo.orderNo?a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"设备地址:"}},[e._v(" "+e._s(e.detailInfo.addr)+" ")])],1)]):e._e(),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},["取消"===e.detailInfo.taskStatus?a("el-form-item",{attrs:{label:"取消原因:"}},[e._v(" "+e._s(e.detailInfo.desc)+" ")]):e._e(),"完成"===e.detailInfo.taskStatus||"待办"===e.detailInfo.taskStatus?a("el-form-item",{attrs:{label:"备注:"}},[e._v(" "+e._s(e.detailInfo.desc)+" ")]):e._e()],1)]),e.isRepair&&"完成"===e.detailInfo.taskStatus?a("el-col",{staticClass:"address",attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"定位:"}},[a("span",[e._v(" "+e._s(e.detailInfo.addr))])])],1)]):e._e()],1)],1),a("addGoodsDialog",{ref:"taskDetail",attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t}}})],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"补货详情",visible:e.visible,modal:!1},on:{close:e.onClose}},[a("el-table",{staticClass:"addGoodsDialog",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"250"}},[a("el-table-column",{attrs:{prop:"channelCode",label:"货道编号"}}),a("el-table-column",{attrs:{prop:"skuName",label:"商品"}}),a("el-table-column",{attrs:{prop:"expectCapacity",label:"补货数量"}})],1)],1)},f=[],p={data:function(){return{tableData:[]}},props:{visible:{type:Boolean,required:!0}},created:function(){},methods:{onClose:function(){this.$emit("update:visible",!1)},getAddGoodsDetail:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function a(){var r;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["q"])(e);case 2:r=a.sent,t.tableData=r.data;case 4:case"end":return a.stop()}}),a)})))()}}},m=p,b=(a("47f18"),a("2877")),h=Object(b["a"])(m,d,f,!1,null,"e719dd02",null),v=h.exports,I={data:function(){return{visible:!1}},props:{detailInfo:{type:Object,required:!0},isRepair:{type:Boolean}},components:{addGoodsDialog:v},computed:{},created:function(){},methods:{addGoodsDetail:function(e){this.visible=!0,this.$refs.taskDetail.getAddGoodsDetail(e)}}},k=I,C=(a("dfbd"),Object(b["a"])(k,c,u,!1,null,"4d368a8a",null)),g=C.exports,_={components:{DetailInfo:g},props:{dialogVisible:{type:Boolean,required:!0},isRepair:{type:Boolean},orderInfo:{type:Object}},data:function(){return{detailInfo:{},visible:!1}},watch:{orderInfo:function(){this.detailInfo=this.orderInfo}},created:function(){},methods:{getTaskInfo:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function a(){var r,n;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(o["N"])(e);case 3:r=a.sent,n=r.data,isNaN(n.createType)||(n.createType=1===n.createType?"手动":"自动"),n.createTime=Object(l["c"])(n.createTime),n.updateTime=Object(l["c"])(n.updateTime),n.taskStatus=Object(l["b"])(n.taskStatus),t.detailInfo=n,a.next=14;break;case 12:a.prev=12,a.t0=a["catch"](0);case 14:case"end":return a.stop()}}),a,null,[[0,12]])})))()},onClose:function(){this.$emit("update:dialogVisible",!1)},reCreate:function(){this.$emit("reCreate",this.detailInfo),this.onClose()},concelTask:function(){this.visible=!0},onFirm:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["m"])(e.detailInfo);case 2:e.visible=!1,e.$emit("updata:dialogVisible",!1),e.$emit("reGetTask"),e.onClose();case 6:case"end":return t.stop()}}),t)})))()}}},y=_,w=(a("6379"),Object(b["a"])(y,r,n,!1,null,"02aef51b",null));t["a"]=w.exports},"76bc":function(e,t,a){},"91d1":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return i}));a("ac1f"),a("5319"),a("c740");var r=function(e){return e=e.replace("T"," ").replace("-",".").replace("-","."),e},n=function(e){var t=["待办","进行","取消","完成"];return t[e-1]},s=function(e,t){var a=["待办","进行","取消","完成"];return t=a.findIndex((function(t){return t===e}))+1,t},i=function(e){var t=["未支付","支付完成","出货成功","出货失败"];return t[e]}},"9a68":function(e,t,a){},"9bb4":function(e,t,a){},"9fe0":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:e.orderLabel+":"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formInline.userCode,callback:function(t){e.$set(e.formInline,"userCode","string"===typeof t?t.trim():t)},expression:"formInline.userCode"}})],1),e.dropDown?a("el-form-item",{attrs:{label:e.stateLabel+":"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},e._l(e.dropDownList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1):e._e(),a("el-form-item",[e._t("default")],2),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.$emit("searchClick",e.formInline)}}},[e._v("查询")])],1)],1)],1)},n=[],s={props:{dropDown:{type:Boolean,default:!1},orderLabel:{type:String},stateLabel:{type:String},dropDownList:{type:Array},formInline:{type:Object}},data:function(){return{}},created:function(){},methods:{}},i=s,l=(a("16b0"),a("2877")),o=Object(l["a"])(i,r,n,!1,null,"d0407384",null);t["a"]=o.exports},c1e1:function(e,t,a){"use strict";a("6828")},c740:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").findIndex,s=a("44d2"),i=a("ae40"),l="findIndex",o=!0,c=i(l);l in[]&&Array(1)[l]((function(){o=!1})),r({target:"Array",proto:!0,forced:o||!c},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(l)},d1c2:function(e,t,a){},d706:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"新增工单",visible:e.visible},on:{close:e.onClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设备编号",prop:"innerCode"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:e.getInnerCode},model:{value:e.ruleForm.innerCode,callback:function(t){e.$set(e.ruleForm,"innerCode",t)},expression:"ruleForm.innerCode"}})],1),a("el-form-item",{attrs:{label:"工单类型",prop:"productType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.productType,callback:function(t){e.$set(e.ruleForm,"productType",t)},expression:"ruleForm.productType"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),e.isRepair?e._e():a("el-form-item",{attrs:{label:"补货数量"}},[a("span",{staticStyle:{color:"#5f84ff",cursor:"pointer"},attrs:{href:"#"},on:{click:e.replenishList}},[e._v("补货清单")])]),e.isRepair?e._e():a("el-form-item",{attrs:{label:"运营人员",prop:"user"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}},e._l(e.userList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1),e.isRepair?a("el-form-item",{attrs:{label:"运维人员",prop:"user"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}},e._l(e.userList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1):e._e(),a("el-form-item",{staticClass:"desciption",attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注(不超过40字)",maxlength:"40","show-word-limit":""},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),a("el-form-item",{staticClass:"btn-part"},[a("el-button",{staticClass:"concel-btn",on:{click:function(t){return e.onClose()}}},[e._v("取消")]),a("el-button",{staticClass:"onfirm-btn",on:{click:e.onFirm}},[e._v("确认")])],1)],1)],1),a("ReplenishDialog",{ref:"replenishList",attrs:{visible:e.replenishVisible,innerCode:e.ruleForm.innerCode},on:{"update:visible":function(t){e.replenishVisible=t},getReplenishInfo:e.getReplenishInfo}})],1)},n=[],s=a("5530"),i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("d3b7"),a("c740"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"补货详情",visible:e.visible},on:{close:e.onClose}},[a("el-table",{staticClass:"replenishList",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"channelCode",label:"货道编号",width:"92"}}),a("el-table-column",{attrs:{prop:"sku.skuName",label:"商品名称",width:"92"}}),a("el-table-column",{attrs:{prop:"currentCapacity",label:"当前数量",width:"92"}}),a("el-table-column",{attrs:{prop:"requireNum",label:"还可添加",width:"92"}}),a("el-table-column",{attrs:{label:"补满数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isShow?e._e():a("el-input-number",{attrs:{"controls-position":"right",min:0,max:t.row.requireNum},on:{change:function(a){return e.handleChange(t)}},model:{value:t.row.addNum,callback:function(a){e.$set(t.row,"addNum",a)},expression:"scope.row.addNum"}}),t.row.isShow?a("span",[e._v("货道暂无商品")]):e._e()]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"concel-btn",on:{click:function(t){return e.onClose()}}},[e._v("取 消")]),a("el-button",{staticClass:"onfirm-btn",on:{click:e.onFirm}},[e._v("确 定")])],1)],1)}),c=[],u=(a("159b"),a("365c")),d={data:function(){return{tableData:[]}},props:{visible:{type:Boolean,required:!0},innerCode:{type:String,required:!0}},created:function(){},methods:{onClose:function(){this.$emit("update:visible",!1)},getreplenishList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["Z"])(e.innerCode);case 2:a=t.sent,r=a.data,r.forEach((function(e){e.isShow=!1,null===e.sku?(e.isShow=!0,e.currentCapacity="-",e.requireNum="-",e.sku={},e.sku.skuName="-"):(e.requireNum=e.maxCapacity-e.currentCapacity,e.requireNum<=0?(e.requireNum=0,e.addNum=0):e.addNum=e.requireNum)})),e.tableData=r;case 6:case"end":return t.stop()}}),t)})))()},handleChange:function(e){this.tableData.addNum=e},onFirm:function(){var e=[];this.tableData.forEach((function(t){t.detail={},t.detail.channelCode=t.channelCode,t.detail.expectCapacity=t.addNum,t.detail.skuId=t.sku.skuId,t.detail.skuImage=t.sku.skuImage,t.detail.skuName=t.sku.skuName,e.push(t.detail)})),this.$emit("getReplenishInfo",e),this.$emit("update:visible",!1)}}},f=d,p=(a("f376"),a("2877")),m=Object(p["a"])(f,o,c,!1,null,"65f2ea8e",null),b=m.exports,h={data:function(){return{ruleForm:{innerCode:"",productType:"",expectCapacity:"",user:"",desc:""},createTaskInfo:{},userList:[],typeList:[],rules:{innerCode:[{required:!0,message:"请输入设备编号",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],productType:[{required:!0,message:"请选择工单类型",trigger:"change"}],user:[{required:!0,message:"请选择运营人员",trigger:"change"}],desc:[{required:!0,message:"请填写备注信息",trigger:"blur"}]},replenishVisible:!1,reCreateInfo:{}}},props:{visible:{type:Boolean,required:!0},isRepair:{type:Boolean}},created:function(){},components:{ReplenishDialog:b},methods:{onClose:function(){this.$refs.ruleForm.resetFields(),this.$emit("update:visible",!1)},getTaskStatus:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["Q"])();case 2:a=t.sent,e.isRepair?e.typeList=a.data.filter((function(e){return 1===e.type})):(e.createTaskInfo.productType=2,e.typeList=a.data.filter((function(e){return 2===e.type})));case 4:case"end":return t.stop()}}),t)})))()},reShowInfo:function(e){this.reCreateInfo=e,this.ruleForm.innerCode=this.reCreateInfo.innerCode,this.ruleForm.productType=this.reCreateInfo.taskType.typeName,this.ruleForm.user=this.reCreateInfo.userName,this.ruleForm.assignorId=this.reCreateInfo.assignorId,this.ruleForm.desc=this.reCreateInfo.desc,this.createTaskInfo.details=this.reCreateInfo.details},replenishList:function(){var e=this;this.$refs.ruleForm.validateField("innerCode",function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:""===a&&(e.replenishVisible=!0,e.$refs.replenishList.getreplenishList());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getInnerCode:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0===e.length){a.next=12;break}if(r=null,!t.isRepair){a.next=8;break}return a.next=5,Object(u["G"])(e);case 5:r=a.sent,a.next=11;break;case 8:return a.next=10,Object(u["x"])(e);case 10:r=a.sent;case 11:t.userList=r.data;case 12:case"end":return a.stop()}}),a)})))()},getReplenishInfo:function(e){this.createTaskInfo=Object(s["a"])(Object(s["a"])({},this.createTaskInfo),{},{details:e})},onFirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.ruleForm.validate();case 3:return isNaN(e.ruleForm.user)?e.createTaskInfo.assignorId=e.ruleForm.assignorId:e.createTaskInfo.assignorId=e.ruleForm.user,e.isRepair&&(a=null,isNaN(e.ruleForm.productType)?(a=e.typeList.findIndex((function(t){return t.typeName===e.ruleForm.productType})),e.createTaskInfo.productType=e.typeList[a].typeId):e.createTaskInfo.productType=e.ruleForm.productType,e.createTaskInfo.detail=[]),e.createTaskInfo.createType=1,e.createTaskInfo.desc=e.ruleForm.desc,e.createTaskInfo.innerCode=e.ruleForm.innerCode,e.createTaskInfo.userId=e.$store.state.user.userInfo.userId,t.next=11,Object(u["i"])(e.createTaskInfo);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:return t.prev=15,e.$refs.ruleForm.resetFields(),e.createTaskInfo={},e.isRepair?e.$emit("reGetRepairList"):e.$emit("reGetTaskList"),e.onClose(),e.ruleForm={innerCode:"",productType:"",expectCapacity:"",user:"",desc:""},t.finish(15);case 22:case"end":return t.stop()}}),t,null,[[0,13,15,22]])})))()}}},v=h,I=(a("c1e1"),Object(p["a"])(v,r,n,!1,null,"20fbfadf",null));t["a"]=I.exports},dfbd:function(e,t,a){"use strict";a("0877")},e09a:function(e,t,a){},f376:function(e,t,a){"use strict";a("34ff")}}]);