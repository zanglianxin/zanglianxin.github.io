(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0f14cfe"],{"018d":function(e,t,a){"use strict";a("8650")},"0e10":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("headSearch",{attrs:{formInline:e.formInline,dropDown:!0,stateLabel:"角色",orderLabel:"人员搜索",dropDownList:e.rolesList,pageIndex:e.data.pageIndex},on:{searchClick:e.searchClick}}),a("el-card",{staticClass:"form-card"},[a("tableModule",{attrs:{userTitleList:e.userTitleList,userKeyList:e.userKeyList,userDate:e.userDate,pageIndex:e.data.pageIndex},scopedSlots:e._u([{key:"custom",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.detailClick(t)}}},[e._v("查看详情")])]}}])})],1),a("layPage",{attrs:{data:e.data,nextDisplay:e.nextDisplay,preDisplay:e.preDisplay},on:{prevClick:e.prevClick,nextClick:e.nextClick}}),a("Peopledetail",{ref:"peopledetail",attrs:{DetailVisible:e.DetailVisible},on:{"update:DetailVisible":function(t){e.DetailVisible=t},"update:detail-visible":function(t){e.DetailVisible=t}}})],1)},n=[],s=a("5530"),l=a("c7eb"),i=a("1da1"),o=(a("e9c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:e.orderLabel+":"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formInline.userName,callback:function(t){e.$set(e.formInline,"userName",t)},expression:"formInline.userName"}})],1),e.dropDown?a("el-form-item",{attrs:{label:e.stateLabel+":"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formInline.roleId,callback:function(t){e.$set(e.formInline,"roleId",t)},expression:"formInline.roleId"}},e._l(e.dropDownList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})})),1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.$emit("searchClick",e.formInline)}}},[e._v("查询")])],1)],1)],1)}),c=[],u={props:{dropDown:{type:Boolean,default:!1},orderLabel:{type:String},stateLabel:{type:String},dropDownList:{type:Array},formInline:{type:Object}},data:function(){return{}},created:function(){},methods:{}},d=u,p=(a("51c2"),a("2877")),f=Object(p["a"])(d,o,c,!1,null,"7ff1d94a",null),m=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.userDate,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"},"empty-text":"暂时没有数据了"},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",index:e.number,width:"100",label:"序号"}}),e._l(e.userKeyList,(function(t,r){return a("el-table-column",{key:r,attrs:{property:t,label:e.userTitleList[r],width:"180"}})})),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("custom",null,{data:t.row})]}}],null,!0)},[e._t("default")],2)],2)},h=[],v={props:{userKeyList:{type:Array,required:!0},userTitleList:{type:Array,required:!0},userDate:{type:Array,required:!0},pageIndex:{required:!0}},data:function(){return{currentRow:null}},methods:{setCurrent:function(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange:function(e){this.currentRow=e}},computed:{number:function(){return 10*this.pageIndex-9}}},k=v,y=(a("6177"),Object(p["a"])(k,b,h,!1,null,"2ede44ef",null)),w=y.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("div",{staticClass:"left"},[a("span",[e._v("共"+e._s(e.data.totalCount)+"条记录")]),a("span",[e._v("第"+e._s(e.data.pageIndex)+"/"+e._s(e.data.totalPage)+"页")])]),a("div",{staticClass:"right"},[a("el-button",{attrs:{type:"info",plain:"",size:"small",disabled:e.preDisplay},on:{click:function(t){return e.$emit("prevClick",e.data.pageIndex)}}},[e._v("上一页")]),a("el-button",{attrs:{type:"info",plain:"",size:"small",disabled:e.nextDisplay},on:{click:function(t){return e.$emit("nextClick",e.data.pageIndex)}}},[e._v("下一页")])],1)])},C=[],_={data:function(){return{}},props:{data:{type:Object,required:!0},nextDisplay:{type:Boolean,default:!1},preDisplay:{type:Boolean,default:!0}},created:function(){},methods:{}},g=_,D=(a("e31c"),Object(p["a"])(g,x,C,!1,null,"6a9c24fa",null)),I=D.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"人员详情",visible:e.DetailVisible,width:"50%"},on:{close:e.onClose}},[a("div",{staticClass:"userWorkInfo"},[a("div",{staticClass:"userInfo"},[a("el-row",{staticStyle:{"margin-bottom":"15px"}},[a("el-col",{attrs:{span:8}},[a("span",[e._v("人员名称：")]),a("span",[e._v(e._s(e.workerData.userName))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("角色：")]),a("span",[e._v(e._s(e.workerData.roleName))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("联系电话：")]),a("span",[e._v(e._s(e.workerData.mobile))])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",[e._v("负责区域：")]),a("span",[e._v(e._s(e.workerData.regionName))])])],1)],1),a("div",{staticClass:"workTable"},[a("el-row",{staticClass:"th rowStyle",attrs:{type:"flex"}},[a("el-col",{staticClass:"item"}),a("el-col",{staticClass:"item"},[e._v("总工单数")]),a("el-col",{staticClass:"item"},[e._v("拒绝工单")]),a("el-col",{staticClass:"item"},[e._v("完成工单")]),a("el-col",[e._v("进行中工单")])],1),a("el-row",{staticClass:"rowStyle",attrs:{type:"flex"}},[a("el-col",{staticClass:"item"},[e._v("本周")]),a("el-col",{staticClass:"item"},[e._v(e._s(e.week.total))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.week.cancelCount))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.week.workCount))]),a("el-col",[e._v(e._s(e.week.progressTotal))])],1),a("el-row",{staticClass:"rowStyle",attrs:{type:"flex"}},[a("el-col",{staticClass:"item"},[e._v("本月")]),a("el-col",{staticClass:"item"},[e._v(e._s(e.month.total))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.month.cancelCount))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.month.workCount))]),a("el-col",[e._v(e._s(e.month.progressTotal))])],1),a("el-row",{staticClass:"rowStyle",staticStyle:{"border-bottom":"1px solid #d8dde3"},attrs:{type:"flex"}},[a("el-col",{staticClass:"item"},[e._v("本年")]),a("el-col",{staticClass:"item"},[e._v(e._s(e.year.total))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.year.cancelCount))]),a("el-col",{staticClass:"item"},[e._v(e._s(e.year.workCount))]),a("el-col",[e._v(e._s(e.year.progressTotal))])],1)],1)])])},j=[],L=a("365c"),S=a("5a0c"),T=a.n(S),$={data:function(){return{workerData:{},week:{workCount:"",progressTotal:"",cancelCount:"",total:""},month:{workCount:"",progressTotal:"",cancelCount:"",total:""},year:{workCount:"",progressTotal:"",cancelCount:"",total:""}}},props:{DetailVisible:{type:Boolean,default:!1},tableData:{type:Object}},created:function(){console.log(T()().startOf("year").format("YYYY-MM-DD HH:mm:ss"))},methods:{onClose:function(){this.$emit("update:DetailVisible",!1),this.week={},this.month={},this.year={}},getPeopleWorkDetail:function(e){var t=this;return Object(i["a"])(Object(l["a"])().mark((function a(){var r,n,s,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(L["T"])(e);case 2:return r=a.sent,t.workerData=r.data,a.prev=4,a.next=7,Object(L["d"])(e);case 7:return n=a.sent,t.week=n.data,a.next=11,Object(L["c"])(e);case 11:return s=a.sent,t.month=s.data,a.next=15,Object(L["e"])(e);case 15:i=a.sent,t.year=i.data,a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](4),console.log(a.t0);case 22:case"end":return a.stop()}}),a,null,[[4,19]])})))()}}},N=$,W=(a("018d"),Object(p["a"])(N,O,j,!1,null,"5346eba8",null)),V=W.exports,P={data:function(){return{rolesList:[],formInline:{userName:"",roleId:""},userTitleList:["人员名称","角色","联系电话","完成工单(本月)","进行中工单","拒绝工单(本月)"],userKeyList:["userName","roleName","mobile","workCount","progressTotal","cancelCount"],userDate:[],data:{},nextDisplay:!1,preDisplay:!0,DetailVisible:!1}},created:function(){this.getRolesList(),this.getWorkList()},methods:{searchClick:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.formInline),t.next=3,e.getWorkList(e.formInline);case 3:case"end":return t.stop()}}),t)})))()},getRolesList:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(L["H"])();case 2:a=t.sent,e.rolesList=a.data;case 4:case"end":return t.stop()}}),t)})))()},getWorkList:function(e){var t=this;return Object(i["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(L["W"])(e);case 2:r=a.sent,console.log(r),t.data=r.data,t.userDate=r.data.currentPageRecords;case 6:case"end":return a.stop()}}),a)})))()},prevClick:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.nextDisplay=!1,a=parseInt(e.data.pageIndex)-1,!e.formInline.roleId){t.next=7;break}return t.next=5,e.getWorkList(Object(s["a"])(Object(s["a"])({},e.formInline),{},{pageIndex:a}));case 5:t.next=9;break;case 7:return t.next=9,e.getWorkList({pageIndex:a});case 9:if(1!=e.data.pageIndex){t.next=11;break}return t.abrupt("return",e.preDisplay=!0);case 11:case"end":return t.stop()}}),t)})))()},nextClick:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.preDisplay=!1,a=parseInt(e.data.pageIndex)+1,!e.formInline.roleId){t.next=8;break}return t.next=6,e.getWorkList(Object(s["a"])(Object(s["a"])({},e.formInline),{},{pageIndex:a}));case 6:t.next=10;break;case 8:return t.next=10,e.getWorkList({pageIndex:a});case 10:if(e.data.pageIndex!==e.data.totalPage){t.next=12;break}return t.abrupt("return",e.nextDisplay=!0);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},detailClick:function(e){this.DetailVisible=!0,console.log(e.data.userId),this.$refs.peopledetail.workerData=JSON.parse(JSON.stringify(e.data)),this.$refs.peopledetail.getPeopleWorkDetail(e.data.userId)}},components:{headSearch:m,tableModule:w,layPage:I,Peopledetail:V}},F=P,A=Object(p["a"])(F,r,n,!1,null,"0160d8cc",null);t["default"]=A.exports},"28c1":function(e,t,a){},"51c2":function(e,t,a){"use strict";a("28c1")},6177:function(e,t,a){"use strict";a("e072")},8650:function(e,t,a){},cd5c:function(e,t,a){},e072:function(e,t,a){},e31c:function(e,t,a){"use strict";a("cd5c")},e9c4:function(e,t,a){var r=a("23e7"),n=a("d066"),s=a("d039"),l=n("JSON","stringify"),i=/[\uD800-\uDFFF]/g,o=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(e,t,a){var r=a.charAt(t-1),n=a.charAt(t+1);return o.test(e)&&!c.test(n)||c.test(e)&&!o.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},d=s((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,a){var r=l.apply(null,arguments);return"string"==typeof r?r.replace(i,u):r}})}}]);