(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c3475b"],{"09d7":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn",style:t.style},[t._t("default")],2)},r=[],i={data:function(){return{style:{backgroundColor:this.bgcolor,color:this.fscolor,fontSize:this.fs}}},props:{bgcolor:{type:String,default:"#5f84ff"},fscolor:{type:String,default:"#fff"},fs:{type:String,default:"14px"}},created:function(){},methods:{}},s=i,o=(a("9eb6"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"79c904de",null);e["a"]=c.exports},1148:function(t,e,a){"use strict";var n=a("a691"),r=a("1d80");t.exports="".repeat||function(t){var e=String(r(this)),a="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},3393:function(t,e,a){"use strict";a("6cf8")},"408a":function(t,e,a){var n=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"6cf8":function(t,e,a){},"71ff":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"el-row"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"head"},[a("div",{staticClass:"title"},[t._v("日销售统计")]),a("div",{staticClass:"body"},[a("div",{staticClass:"child"},[a("div",{staticClass:"text1"},[t._v(t._s(t.dayTheNumber))]),a("div",{staticClass:"text2"},[t._v("当日销售量（个）")])]),a("div",{staticClass:"child"},[a("div",{staticClass:"text1"},[t._v(t._s(t.dayIncome))]),a("div",{staticClass:"text2"},[t._v("当日销售额（元）")])]),a("div",{staticClass:"child"},[a("div",{staticClass:"text1"},[t._v(t._s(t.daySeparate))]),a("div",{staticClass:"text2"},[t._v("当日分成（元）")])])])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"head h-right"},[a("div",{staticClass:"title"},[t._v("月销售统计")]),a("div",{staticClass:"body"},[a("div",{staticClass:"child"},[a("div",{staticClass:"text1 red"},[t._v(t._s(t.monthTheNumber))]),a("div",{staticClass:"text2 pink"},[t._v("当月销售量（个）")])]),a("div",{staticClass:"child"},[a("div",{staticClass:"text1 red"},[t._v(t._s(t.monthIncome))]),a("div",{staticClass:"text2 pink"},[t._v("当月销售额（万元）")])]),a("div",{staticClass:"child"},[a("div",{staticClass:"text1 red"},[t._v(t._s(t.monthSeparate))]),a("div",{staticClass:"text2 pink"},[t._v("当月分成（元）")])])])])])],1),a("el-card",{staticClass:"main-card"},[a("div",{staticClass:"main-header"},[a("span",[t._v("合作商：")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.partnersInp,callback:function(e){t.partnersInp=e},expression:"partnersInp"}},t._l(t.partnersList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1),a("span",{staticClass:"date-span"},[t._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.dateVal,callback:function(e){t.dateVal=e},expression:"dateVal"}}),a("MyButton",{staticClass:"search-btn",nativeOn:{click:function(e){return t.search(e)}}},[a("span",{staticClass:"el-icon-search",staticStyle:{"margin-right":"5px"}}),t._v("查询")])],1),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("span",[t._v("笔数统计："),a("span",{staticClass:"high-t"},[t._v(t._s(t.theNumber))]),t._v("个")]),a("span",{staticStyle:{margin:"0 60px"}},[t._v("收入统计："),a("span",{staticClass:"high-t"},[t._v(t._s(t.income))]),t._v("元")]),a("span",[t._v("分成统计："),a("span",{staticClass:"high-t"},[t._v(t._s(t.separate))]),t._v("元")])]),a("MyTable",{attrs:{tableList:t.tableList,propertyList:t.propArr,headList:t.headArr,loading:t.loading}}),"1"!==t.totalPage?a("MyPagination",{attrs:{btnLoading:t.btnLoading,totalCount:t.totalCount,totalPage:t.totalPage,pageIndex:t.pageIndex},on:{prev:t.prevClick,next:t.nextClick}}):t._e()],1)],1)},r=[],i=a("c7eb"),s=a("1da1"),o=(a("d3b7"),a("159b"),a("b680"),a("b0c0"),a("09d7")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableList,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"}}},t._l(t.propertyList,(function(e,n){return a("el-table-column",{key:e,attrs:{property:e,label:t.headList[n]}})})),1)],1)},l=[],u={name:"MyTable",data:function(){return{}},props:{tableList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},headList:{type:Array,default:function(){return[]}},propertyList:{type:Array,default:function(){return[]}}},created:function(){},computed:{number:function(){return 10*this.pageIndex-9}},methods:{}},d=u,p=a("2877"),f=Object(p["a"])(d,c,l,!1,null,"1e88dc2e",null),v=f.exports,h=a("bfaa"),b=a("5a0c"),m=a.n(b),g=a("8bd7"),x=a("b775"),C=function(t){return Object(x["a"])({url:"/order-service/report/partnerCollect",params:t})},y=function(t){return Object(x["a"])({url:"/order-service/report/totalBill",params:t})},_=function(t){return Object(x["a"])({url:"/order-service/report/orderAmount",params:t})},O=function(t){return Object(x["a"])({url:"/order-service/report/orderCount",params:t})},j={data:function(){return{partnersList:[],partnersInp:"",dateVal:[],pageIndex:1,tableList:[],totalCount:"",totalPage:"",btnLoading:!1,loading:!1,headArr:["订单日期","合作商","分成比例","收入（元）","笔数","分成金额（元）"],propArr:["date","ownerName","ratio","orderTotalMoney","orderCount","totalBill"],separate:"",income:"",theNumber:"",monthTheNumber:"",monthIncome:"",monthSeparate:"",dayTheNumber:"",dayIncome:"",daySeparate:""}},components:{MyButton:o["a"],MyTable:v,MyPagination:h["a"]},created:function(){this.getPartnerList(),this.defaultDate(),this.partnerCollect(),this.getMonthCount(),this.getDayCount()},methods:{getPartnerList:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["l"])({pageSize:1e4});case 2:a=e.sent,n=a.data,t.partnersList=n.currentPageRecords;case 5:case"end":return e.stop()}}),e)})))()},search:function(){this.partnerCollect()},defaultDate:function(){var t=m()().startOf("D").format("YYYY-MM-DD"),e=m()().startOf("M").format("YYYY-MM-DD");this.dateVal=[e,t]},partnerCollect:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,r,s,o,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.btnLoading=!0,e.prev=2,e.next=5,C({partnerName:t.partnersInp,start:t.dateVal[0],end:t.dateVal[1],pageIndex:t.pageIndex,pageSize:10});case 5:return a=e.sent,n=a.data,n.currentPageRecords.forEach((function(t){t.orderTotalMoney="+"+(t.orderTotalMoney/100).toFixed(2),t.ratio=t.ratio+"%",t.totalBill="+"+(t.totalBill/100).toFixed(2)})),t.tableList=n.currentPageRecords,t.pageIndex=n.pageIndex,t.totalCount=n.totalCount,t.totalPage=n.totalPage,r="",t.partnersList.forEach((function(e){e.name!==t.partnersInp||(r=e.id)})),e.next=16,y({partnerId:r,start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 16:return s=e.sent,t.separate=(s.data/100).toFixed(2),e.next=20,_({partnerId:r,start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 20:return o=e.sent,t.income=(o.data/100).toFixed(2),e.next=24,O({partnerId:r,start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 24:c=e.sent,t.theNumber=c.data,e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](2),console.log(e.t0);case 31:return e.prev=31,t.loading=!1,t.btnLoading=!1,e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[2,28,31,35]])})))()},getMonthCount:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O({start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 2:return a=e.sent,t.monthTheNumber=a.data,e.next=6,_({start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 6:return n=e.sent,t.monthIncome=(n.data/100/1e4).toFixed(2),e.next=10,y({start:t.dateVal[0]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 10:r=e.sent,t.monthSeparate=(r.data/100).toFixed(2);case 12:case"end":return e.stop()}}),e)})))()},getDayCount:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O({start:t.dateVal[1]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 2:return a=e.sent,t.dayTheNumber=a.data,e.next=6,_({start:t.dateVal[1]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 6:return n=e.sent,t.dayIncome=(n.data/100).toFixed(2),e.next=10,y({start:t.dateVal[1]+" 00:00:00",end:t.dateVal[1]+" 23:59:59"});case 10:r=e.sent,t.daySeparate=(r.data/100).toFixed(2);case 12:case"end":return e.stop()}}),e)})))()},prevClick:function(){this.pageIndex--,this.partnerCollect()},nextClick:function(){this.pageIndex++,this.partnerCollect()}}},w=j,k=(a("e99e"),Object(p["a"])(w,n,r,!1,null,"3547888e",null));e["default"]=k.exports},"8bd7":function(t,e,a){"use strict";a.d(e,"k",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"n",(function(){return c})),a.d(e,"l",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"f",(function(){return p})),a.d(e,"p",(function(){return f})),a.d(e,"o",(function(){return v})),a.d(e,"m",(function(){return h})),a.d(e,"g",(function(){return b})),a.d(e,"d",(function(){return m})),a.d(e,"b",(function(){return g})),a.d(e,"j",(function(){return x}));var n=a("b775"),r=function(t){return Object(n["a"])({url:"/vm-service/region/search",params:t})},i=function(t,e){return Object(n["a"])({url:"/vm-service/region",method:"POST",data:{regionName:t,remark:e}})},s=function(t,e,a){return Object(n["a"])({url:"/vm-service/region/"+t,method:"PUT",data:{regionName:e,remark:a}})},o=function(t){return Object(n["a"])({url:"/vm-service/region/"+t,method:"DELETE"})},c=function(t){return Object(n["a"])({url:"vm-service/node/search",params:t})},l=function(t){return Object(n["a"])({url:"/user-service/partner/search",params:t})},u=function(t){return Object(n["a"])({url:"/user-service/partner",method:"POST",data:t})},d=function(t,e){return Object(n["a"])({url:"/user-service/partner/"+t,method:"PUT",data:e})},p=function(t){return Object(n["a"])({url:"/user-service/partner/"+t,method:"DELETE"})},f=function(t){return Object(n["a"])({url:"/user-service/partner/resetPwd/"+t,method:"PUT"})},v=function(t){return Object(n["a"])({url:"/vm-service/node/search",params:t})},h=function(t){return Object(n["a"])({url:"/vm-service/node/vmList/"+t})},b=function(t){return Object(n["a"])({url:"/vm-service/node/"+t,method:"DELETE"})},m=function(){return Object(n["a"])({url:"vm-service/businessType"})},g=function(t){return Object(n["a"])({url:"/vm-service/node",method:"POST",data:t})},x=function(t,e){return Object(n["a"])({url:"/vm-service/node/"+t,method:"PUT",data:e})}},"9eb6":function(t,e,a){"use strict";a("f29d")},b680:function(t,e,a){"use strict";var n=a("23e7"),r=a("a691"),i=a("408a"),s=a("1148"),o=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,a,n,o,c=i(this),p=r(t),f=[0,0,0,0,0,0],v="",h="0",b=function(t,e){var a=-1,n=e;while(++a<6)n+=t*f[a],f[a]=n%1e7,n=l(n/1e7)},m=function(t){var e=6,a=0;while(--e>=0)a+=f[e],f[e]=l(a/t),a=a%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var a=String(f[t]);e=""===e?a:e+s.call("0",7-a.length)+a}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){b(0,a),n=p;while(n>=7)b(1e7,0),n-=7;b(u(10,n,1),0),n=e-1;while(n>=23)m(1<<23),n-=23;m(1<<n),b(1,1),m(2),h=g()}else b(0,a),b(1<<-e,0),h=g()+s.call("0",p);return p>0?(o=h.length,h=v+(o<=p?"0."+s.call("0",p-o)+h:h.slice(0,o-p)+"."+h.slice(o-p))):h=v+h,h}})},bfaa:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration",staticStyle:{color:"#dbdfe5"}},[t._v("共"+t._s(t.totalCount)+"条记录 第"+t._s(t.pageIndex)+"/"+t._s(t.totalPage)+"页")]),a("el-pagination",{directives:[{name:"loading",rawName:"v-loading",value:t.btnLoading,expression:"btnLoading"}],attrs:{"page-size":10,layout:"total, prev, next","prev-text":"上一页","next-text":"下一页",total:t.totalCount-0},on:{"prev-click":t.prevClick,"next-click":t.nextClick}})],1)},r=[],i={name:"Pagination",data:function(){return{}},created:function(){},props:{totalCount:{type:String,default:""},totalPage:{type:String,default:""},pageIndex:{default:""},btnLoading:{type:Boolean,default:!1}},methods:{prevClick:function(){this.$emit("prev")},nextClick:function(){this.$emit("next")}}},s=i,o=(a("3393"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"0942571a",null);e["a"]=c.exports},e99e:function(t,e,a){"use strict";a("f0b4")},f0b4:function(t,e,a){},f29d:function(t,e,a){}}]);