(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51f0b91c"],{"14bc":function(e,t,a){},"16b0":function(e,t,a){"use strict";a("9a68")},5132:function(e,t,a){"use strict";a("d23d")},"55b3":function(e,t,a){"use strict";a("14bc")},"5c7d":function(e,t,a){"use strict";a("da5b")},"5fe5":function(e,t,a){"use strict";a("b141")},"80ae":function(e,t,a){},"9a68":function(e,t,a){},"9fe0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:e.orderLabel+":"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formInline.userCode,callback:function(t){e.$set(e.formInline,"userCode","string"===typeof t?t.trim():t)},expression:"formInline.userCode"}})],1),e.dropDown?a("el-form-item",{attrs:{label:e.stateLabel+":"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},e._l(e.dropDownList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1):e._e(),a("el-form-item",[e._t("default")],2),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.$emit("searchClick",e.formInline)}}},[e._v("查询")])],1)],1)],1)},r=[],i={props:{dropDown:{type:Boolean,default:!1},orderLabel:{type:String},stateLabel:{type:String},dropDownList:{type:Array},formInline:{type:Object}},data:function(){return{}},created:function(){},methods:{}},l=i,o=(a("16b0"),a("2877")),s=Object(o["a"])(l,n,r,!1,null,"d0407384",null);t["a"]=s.exports},b141:function(e,t,a){},bbf2:function(e,t,a){"use strict";a("80ae")},c7fe:function(e,t,a){"use strict";a("e798")},c9e1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("head-search",{attrs:{formInline:e.formInline,orderLabel:e.orderLabel},on:{searchClick:e.searchFn}}),a("div",{staticClass:"contentMain"},[a("newDataBtn",{on:{click:e.newDataFn}}),a("Mytable",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{WorkOrderDate:e.sellData.currentPageRecords?e.sellData.currentPageRecords:[],pageIndex:e.pageIndex},on:{modifyClick:e.modifyClick,removeClick:e.removeClick}}),a("div",{staticClass:"bottom"},[a("div",{staticClass:"info"},[e._v(" 共"+e._s(e.sellData.totalCount)+"条记录 第 "+e._s(e.sellData.pageIndex)+"/"+e._s(e.sellData.totalPage)+" 页 ")]),e.isBtnShow?a("div",{staticClass:"change"},[a("el-button",{attrs:{disabled:e.isdisable},on:{click:e.previousPage}},[e._v("上一页")]),a("el-button",{attrs:{disabled:e.nextDisable},on:{click:e.getNextPage}},[e._v("下一页")])],1):e._e()]),e.isShowDialog?a("aisleDialog",{attrs:{isShowDialog:e.isShowDialog,dialogData:e.dialogData||[]},on:{"update:isShowDialog":function(t){e.isShowDialog=t},"update:is-show-dialog":function(t){e.isShowDialog=t},emptyFn:e.emptyFn,upData:function(t){return e.getServiceListVmType()}}}):e._e()],1)],1)},r=[],i=a("c7eb"),l=a("1da1"),o=(a("b0c0"),a("decc")),s=a("9fe0"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.WorkOrderDate,"highlight-current-row":"","header-cell-style":{background:"#f3f6fb"},"empty-text":"暂时没有数据了"},on:{"current-change":e.handleCurrentChange,select:e.select,"select-all":e.selectAll}},[a("el-table-column",{attrs:{type:"index",width:"100",label:"序号",index:e.number}}),a("el-table-column",{attrs:{property:"name",label:"型号名称",width:"250"}}),a("el-table-column",{attrs:{property:"model",label:"型号编码",width:"250"}}),a("el-table-column",{attrs:{property:"image",label:"设备图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.row.image,alt:"",width:"24",height:"24"}})]}}])}),a("el-table-column",{attrs:{property:"vmRow",label:"货道行",width:"180"}}),a("el-table-column",{attrs:{property:"vmCol",label:"货道列",width:"180"}}),a("el-table-column",{attrs:{property:"channelMaxCapacity",label:"设备容量",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.$emit("modifyClick",t.row)}}},[e._v(" 修改 ")]),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.$emit("removeClick",t.row)}}},[e._v(" 删除 ")])]}}])})],1)},u=[],d={props:{WorkOrderDate:{type:Array,required:!0},pageIndex:{type:String},BatchOperate:{type:Array}},data:function(){return{currentRow:null}},methods:{setCurrent:function(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange:function(e){this.currentRow=e},select:function(e,t){this.$emit("update:BatchOperate",e)},selectAll:function(e){this.$emit("update:BatchOperate",e)}},computed:{number:function(){return 10*this.pageIndex-9}}},m=d,p=(a("5fe5"),a("2877")),f=Object(p["a"])(m,c,u,!1,null,"4853eda0",null),h=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.text,visible:e.isShowDialog,width:"35%"},on:{close:e.onClose}},[a("div",{staticClass:"cab",staticStyle:{height:"500px",width:"100%"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"型号名称 :",prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"型号编码 :",prop:"model"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入 (限制数字、字母、中划线、下划线)",maxlength:"15","show-word-limit":""},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1),a("el-form-item",{attrs:{label:"货道行数 :",prop:"vmRow"}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入",min:1,max:10},on:{change:e.handleChange},model:{value:e.form.vmRow,callback:function(t){e.$set(e.form,"vmRow",t)},expression:"form.vmRow"}})],1),a("el-form-item",{attrs:{label:"货道列数 :",prop:"vmCol"}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入",min:1,max:10},on:{change:e.handleChange},model:{value:e.form.vmCol,callback:function(t){e.$set(e.form,"vmCol",t)},expression:"form.vmCol"}})],1),a("el-form-item",{attrs:{label:"货道容量 :",prop:"channelMaxCapacity"}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入",min:1,max:10},on:{change:e.handleChange},model:{value:e.form.channelMaxCapacity,callback:function(t){e.$set(e.form,"channelMaxCapacity",t)},expression:"form.channelMaxCapacity"}})],1),a("el-form-item",{attrs:{label:"设备图片 :",prop:"image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","http-request":e.imgupdata,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}},[e.form.image?a("img",{staticClass:"avatar",attrs:{src:e.form.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticStyle:{"text-align":"center",color:"#bac0cd"}},[e._v(" 支持扩展名：jpg、png，文件不得大于100kb ")])],1)],1),a("div",{staticClass:"buttonPart"},[a("operateBtn",{on:{click:e.onClose}}),a("newDataBtn",{attrs:{pic:!1},on:{click:e.newDataFn}})],1)])],1)},b=[],v=a("5530"),w=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appBtn"},[a("el-button",{staticClass:"importBtn",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$emit("click",t)}}},[e._t("default",[e._v(" 取消")])],2)],1)}),y=[],x={data:function(){return{}},created:function(){},methods:{}},C=x,D=(a("5132"),Object(p["a"])(C,w,y,!1,null,"13d82399",null)),k=D.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appBtn"},[a("el-button",{staticClass:"newBtn",attrs:{type:"primary"},on:{click:function(t){return e.$emit("click",t)}}},[e.pic?a("i",{staticClass:"el-icon-circle-plus-outline"}):e._e(),e._t("default",[e._v(" 确认")])],2)],1)},_=[],$={props:{pic:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},methods:{}},O=$,I=(a("c7fe"),Object(p["a"])(O,S,_,!1,null,"a15dcde2",null)),j=I.exports,B=a("365c"),L={props:{isShowDialog:{type:Boolean,required:!0},dialogData:{type:Object,required:!0}},data:function(){return{form:{name:this.dialogData.name,model:this.dialogData.model,vmRow:this.dialogData.vmRow,vmCol:this.dialogData.vmCol,image:this.dialogData.image,channelMaxCapacity:this.dialogData.channelMaxCapacity,typeId:this.dialogData.typeId},rules:{name:[{required:!0,message:"请输入型号名称",trigger:"blur"}],model:[{required:!0,message:"请输入型号编码",trigger:"blur"}],vmRow:[{required:!0,message:"请输入货道行数",trigger:"blur"}],vmCol:[{required:!0,message:"请输入货道列数",trigger:"blur"}],image:[{required:!0,message:"请输入货道容量",trigger:"blur"}],channelMaxCapacity:[{required:!0,message:"请选择设备图片",trigger:"blur"}]},imgUrl:{image:""}}},created:function(){},methods:{onClose:function(){this.$emit("update:isShowDialog",!1),this.$refs.form.resetFields(),this.textIsShow=!1,this.$emit("emptyFn"),console.log(!!this.dialogData.name)},handleChange:function(){},newDataFn:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.form.typeId){t.next=11;break}return t.next=4,e.$refs.form.validate();case 4:return t.next=6,Object(B["cb"])(Object(v["a"])(Object(v["a"])({},e.form),e.imgUrl));case 6:e.onClose(),e.$message.success("修改成功"),e.$emit("upData"),t.next=18;break;case 11:return t.next=13,e.$refs.form.validate();case 13:return t.next=15,Object(B["j"])(Object(v["a"])(Object(v["a"])({},e.form),e.imgUrl));case 15:e.onClose(),e.$message.success("添加成功"),e.$emit("upData");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),null!==t.t0&&void 0!==t.t0&&t.t0.response&&e.$message.error(null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a?void 0:a.data);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},imgupdata:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("fileName",e.file),a.next=4,Object(B["ab"])(n);case 4:r=a.sent,console.log(r),t.imgUrl.image=r.data;case 7:case"end":return a.stop()}}),a)})))()},handleAvatarSuccess:function(e,t){this.form.image=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){try{var t="image/jpeg"===e.type,a=e.size/1024/1024/1024<100;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 100kb!"),t&&a}catch(n){console.log(123)}}},components:{operateBtn:k,newDataBtn:j},computed:{text:function(){return this.dialogData.name?"修改设备类型":"新增设备类型"}}},R=L,F=(a("bbf2"),Object(p["a"])(R,g,b,!1,null,"6a386875",null)),M=F.exports,P={data:function(){return{formInline:{userCode:""},orderLabel:"型号搜索",sellData:[],nextDisable:!1,pageIndex:"",PolicyData:[],taskSearchData:{pageIndex:1,name:""},loading:!1,isShowDialog:!1,dialogData:{},isBtnShow:!0}},created:function(){this.getServiceListVmType()},methods:{handleClick:function(){},getServiceListVmType:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(B["K"])(e.taskSearchData);case 3:a=t.sent,console.log(a),e.sellData=a.data,parseInt(a.data.totalCount)<10&&(e.isBtnShow=!1),e.pageIndex=a.data.pageIndex,e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},modifyClick:function(e){this.isShowDialog=!0,this.dialogData=e},emptyFn:function(){this.dialogData={}},removeClick:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(B["db"])(e.typeId);case 3:t.$notify({title:"成功",message:"删除成功",type:"success"}),t.getServiceListVmType(),a.next=9;break;case 7:a.prev=7,a.t0=a["catch"](0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})))()},searchFn:function(){if(this.formInline.userCode.length<=0)return this.$message.error("请输入设备编号");this.taskSearchData.name=this.formInline.userCode,this.getServiceListVmType()},getNextPage:function(){var e=parseInt(this.sellData.totalPage)-parseInt(this.sellData.pageIndex);e<=1&&(this.nextDisable=!0),this.taskSearchData.pageIndex++,this.getServiceListVmType(this.taskSearchData)},previousPage:function(e){this.taskSearchData.pageIndex--,this.getServiceListVmType(this.taskSearchData)},newDataFn:function(){this.isShowDialog=!0}},components:{headSearch:s["a"],Mytable:h,aisleDialog:M,newDataBtn:o["a"]},computed:{isdisable:function(){var e;return(null===(e=this.sellData)||void 0===e?void 0:e.pageIndex)<=1}}},q=P,A=(a("55b3"),Object(p["a"])(q,n,r,!1,null,"83f2b76a",null));t["default"]=A.exports},d23d:function(e,t,a){},da5b:function(e,t,a){},decc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appBtn"},[a("el-button",{staticClass:"newBtn",attrs:{type:"primary"},on:{click:function(t){return e.$emit("click",t)}}},[e.pic?a("i",{staticClass:"el-icon-circle-plus-outline"}):e._e(),e._t("default",[e._v(" 新建")])],2)],1)},r=[],i={props:{pic:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},methods:{}},l=i,o=(a("5c7d"),a("2877")),s=Object(o["a"])(l,n,r,!1,null,"5822be1a",null);t["a"]=s.exports},e798:function(e,t,a){}}]);